/* add visually-hidden utility for accessibility */
.visually-hidden {
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
  border: 0; padding: 0; margin: -1px;
}

/* Basic layout */
* { box-sizing: border-box; }
body { font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif; margin:0; background:#0b0b0d; color:#eee; }

/* HERO
   - removed gradient overlays so the hero uses the raw image
   - background-size/position kept so setHeroBackground can rely on them
*/
.hero {
  width: 100%;
  min-height: 56vh;              /* a bit wider per request */
  max-height: 80vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 28px 12px 48px;      /* space so profile overlaps nicely */
  position:relative;
  overflow: visible;            /* allow profile to overlap bio */
  background: none;             /* no gradient â€” let JS set the image directly */
  background-size: cover;
  background-position: center 14%; /* show slightly more of the top of the image */
  z-index: 20;
}

/* NOTE: hero::before and hero::after previously added gradient overlays; removed intentionally */

/* PROFILE WRAPPER
   - white rim is on the wrapper to keep rim always aligned
   - adjusted size so rim sits perfectly around image
*/
.profile-wrap {
  position: absolute;
  bottom: -64px;                 /* overlap into the bio (tweak to taste) */
  left: 50%;
  transform: translateX(-50%);
  width: 156px;
  height: 156px;
  border-radius: 50%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 60;                   /* above hero so rim reads clearly */
  transition: transform 320ms ease;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04));
  box-shadow: 0 18px 40px rgba(0,0,0,0.35);
  border: 6px solid rgba(255,255,255,0.98); /* rim as wrapper border */
  box-sizing: content-box;
}

/* profile image */
.profile-pic {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 50%;
  transform-origin: center;
  transition: transform 420ms ease, opacity 300ms ease, filter 300ms ease;
  opacity: 0;
  filter: none; /* ensure not darkened */
  position: relative;
  z-index: 62;
}

/* visible state applied by JS */
.profile-pic.visible {
  opacity: 1;
  transform: translateY(-6px) scale(1.02);
}

/* subtle overlay on the profile to blend with hero */
.profile-wrap::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.04));
  mix-blend-mode: overlay;
  z-index: 61;
  border-radius: 50%;
}

/* Bio */
.bio { background:#fff; color:#111; padding:64px 18px 28px; text-align:center; margin-top: 100px; position:relative; z-index:10; }

/* Slideshow */
.slideshow-section { position:relative; padding:48px 16px 80px; background:linear-gradient(180deg,#0f0f12,#070708); overflow:visible; --carousel-height:420px; }
.controls { position:absolute; top:16px; right:16px; display:flex; gap:8px; z-index:50; }
.control-btn { background:rgba(255,255,255,0.06); color:#fff; border:0; padding:8px 12px; border-radius:8px; font-size:18px; cursor:pointer; backdrop-filter: blur(6px); transition:transform .18s; }
.control-btn:hover { transform:translateY(-2px); background:rgba(255,255,255,0.1); }

/* Carousel container */
.carousel { position:relative; height:var(--carousel-height); width:100%; max-width:1280px; margin:0 auto; perspective:1400px; -webkit-perspective:1400px; }

/* Card */
.card {
  position:absolute;
  top:50%;
  left:50%;
  transform-style:preserve-3d;
  transform-origin:center center;
  transition: transform 700ms cubic-bezier(.2,.95,.15,1), filter 400ms ease, opacity 300ms ease;
  width:340px;
  height:220px;
  border-radius:14px;
  overflow:hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.7);
  cursor:pointer;
  will-change: transform, filter;
  -webkit-tap-highlight-color: transparent;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#000;
}

/* Image inside card */
.card img { width:100%; height:100%; object-fit:cover; display:block; }

/* Styling for non-center cards */
.card.behind { filter: blur(1px) saturate(.85) contrast(.95); opacity:0.92; }
.card.far-behind { filter: blur(2px) saturate(.75) contrast(.9) brightness(.82); opacity:0.78; }

/* Center card emphasis */
.card.center {
  transform: translate(-50%,-50%) translateZ(160px) scale(1.04) rotateY(0deg) !important;
  box-shadow: 0 40px 100px rgba(0,0,0,0.9);
  z-index: 999;
  filter: none;
}

/* Label overlay */
.card .label { position:absolute; bottom:10px; left:12px; right:12px; color:#fff; font-weight:600; text-shadow:0 2px 8px rgba(0,0,0,0.7); font-size:14px; pointer-events:none; }

/* Expanded panel */
.expanded-panel { position:relative; max-width:1100px; margin:18px auto 0; height:0; overflow:hidden; transition: height 600ms cubic-bezier(.2,.9,.2,1), opacity 320ms ease; opacity:0; border-radius:12px; }
.expanded-panel.open { height:460px; opacity:1; }

.expanded-inner { height:100%; overflow-y:auto; padding:18px; display:flex; gap:12px; flex-direction:column; scroll-behavior:smooth; }

/* Expanded items */
.expanded-inner .expanded-item { height:380px; border-radius:10px; overflow:hidden; background:#000; box-shadow: 0 10px 40px rgba(0,0,0,0.6); transition: transform 400ms ease; }
.expanded-inner .expanded-item img { width:100%; height:100%; object-fit:cover; display:block; }

/* Loader text */
.expanded-inner .loader { color:#333; font-size:16px; text-align:center; padding:28px 0; background:transparent; }

/* Close button */
.close-expanded { position:absolute; right:14px; top:10px; background:rgba(0,0,0,0.45); color:#fff; border:0; padding:8px 12px; border-radius:8px; cursor:pointer; z-index:60; transform:translateY(0); }

/* Responsive */
@media (max-width:980px) {
  .profile-wrap { bottom: -56px; width:120px; height:120px; border-width:5px; }
  .card { width:300px; height:200px; }
  .carousel { --carousel-height:360px; }
  .expanded-panel.open { height:380px; }
  .expanded-inner .expanded-item { height:300px; }
}
@media (max-width:520px) {
  .hero { min-height:40vh; padding:14px 10px 34px; }
  .profile-wrap { bottom: -48px; width:96px; height:96px; border-width:4px; }
  .card { width:240px; height:160px; }
  .expanded-panel.open { height:320px; }
  .expanded-inner .expanded-item { height:260px; }
}
