/* Basic layout */
* { box-sizing: border-box; }
body { font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif; margin:0; background:#0b0b0d; color:#eee; }

/* HERO
   - lighter overlay so the fit image stays bright
   - pseudo-element extended and stacked above the bio to avoid a visible seam ("black bar")
   - hero larger/wider per request
*/
.hero {
  width: 100%;
  min-height: 50vh;              /* slightly taller */
  max-height: 76vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 22px 12px 40px;      /* added bottom padding so profile can overlap nicely */
  position:relative;
  overflow: visible;            /* allow pseudo to extend so it blends into the bio */
  /* base gradient (kept but light so image remains bright) */
  background: linear-gradient(180deg, rgba(12,12,12,0.18), rgba(20,20,20,0.08));
  background-size: cover;
  background-position: center;
  z-index: 20;                   /* higher than bio so pseudo can overlay the white section */
}

/* bottom blend-to-white so hero image softly transitions into the white bio
   place this pseudo on top of the bio (hero z-index high) and extend it below hero
   so there is no visible seam. */
.hero::after{
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: -80px; /* extend further under the bio for clean blend */
  height: 50%;
  pointer-events: none;
  /* start mostly transparent and finish at white so the hero blends into the white bio */
  background: linear-gradient(to bottom, rgba(255,255,255,0) 45%, rgba(255,255,255,1) 100%);
  z-index: 30;
}

/* PROFILE WRAPPER
   - the white rim is applied to the wrapper so it is always perfectly aligned
   - wrapper positioned to overlap downward into the .bio section
*/
.profile-wrap {
  position: absolute;
  bottom: -64px;                 /* drop down a little less so it sits naturally */
  left: 50%;
  transform: translateX(-50%);
  width: 152px;                  /* slightly larger so border sits cleanly around image */
  height: 152px;
  border-radius: 50%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 60;                   /* on top of hero pseudo so rim reads clearly */
  transition: transform 320ms ease;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04));
  box-shadow: 0 18px 40px rgba(0,0,0,0.35);
  border: 4px solid rgba(255,255,255,0.98); /* THE white rim around profile - on wrapper so it never gets misaligned */
  box-sizing: content-box; /* ensure border drawn outside the image area */
}

/* profile image (no border here; rim is on the wrapper) */
.profile-pic {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 50%;
  transform-origin: center;
  transition: transform 420ms ease, opacity 300ms ease, filter 300ms ease;
  opacity: 0;
  filter: none; /* ensure not darkened */
  position: relative;
  z-index: 62; /* above wrapper pseudo before overlay */
}

/* visible state applied by JS */
.profile-pic.visible {
  opacity: 1;
  transform: translateY(-6px) scale(1.02);
}

/* subtle brightening overlay on the profile to match the hero blend
   put the overlay under the border but above the image to brighten slightly */
.profile-wrap::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.04));
  mix-blend-mode: overlay;
  z-index: 61;
  border-radius: 50%;
}

/* ensure the bio sits above hero background but below hero's overlay - no z-index needed */
.bio { background:#fff; color:#111; padding:56px 18px 28px; text-align:center; margin-top: 92px; position:relative; }

/* Slideshow */
.slideshow-section { position:relative; padding:48px 16px 80px; background:linear-gradient(180deg,#0f0f12,#070708); overflow:visible; --carousel-height:420px; }
.controls { position:absolute; top:16px; right:16px; display:flex; gap:8px; z-index:50; }
.control-btn { background:rgba(255,255,255,0.06); color:#fff; border:0; padding:8px 12px; border-radius:8px; font-size:18px; cursor:pointer; backdrop-filter: blur(6px); transition:transform .18s ease, background .18s; }
.control-btn:hover { transform:translateY(-2px); background:rgba(255,255,255,0.1); }

/* Carousel container */
.carousel { position:relative; height:var(--carousel-height); width:100%; max-width:1280px; margin:0 auto; perspective:1400px; -webkit-perspective:1400px; }

/* Card */
.card {
  position:absolute;
  top:50%;
  left:50%;
  transform-style:preserve-3d;
  transform-origin:center center;
  transition: transform 700ms cubic-bezier(.2,.95,.15,1), filter 400ms ease, opacity 300ms ease;
  width:340px;
  height:220px;
  border-radius:14px;
  overflow:hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.7);
  cursor:pointer;
  will-change: transform, filter;
  -webkit-tap-highlight-color: transparent;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#000;
}

/* Image inside card */
.card img { width:100%; height:100%; object-fit:cover; display:block; }

/* Styling for non-center cards */
.card.behind { filter: blur(1px) saturate(.85) contrast(.95); opacity:0.92; }
.card.far-behind { filter: blur(2px) saturate(.75) contrast(.9) brightness(.82); opacity:0.78; }

/* Center card emphasis */
.card.center {
  transform: translate(-50%,-50%) translateZ(160px) scale(1.04) rotateY(0deg) !important;
  box-shadow: 0 40px 100px rgba(0,0,0,0.9);
  z-index: 999;
  filter: none;
}

/* Label overlay */
.card .label { position:absolute; bottom:10px; left:12px; right:12px; color:#fff; font-weight:600; text-shadow:0 2px 8px rgba(0,0,0,0.7); font-size:14px; pointer-events:none; }

/* Expanded panel */
.expanded-panel { position:relative; max-width:1100px; margin:18px auto 0; height:0; overflow:hidden; transition: height 600ms cubic-bezier(.2,.9,.2,1), opacity 320ms ease; opacity:0; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); box-shadow: 0 30px 80px rgba(0,0,0,0.6); padding:0 0 10px 0; }
.expanded-panel.open { height:460px; opacity:1; }

.expanded-inner { height:100%; overflow-y:auto; padding:18px; display:flex; gap:12px; flex-direction:column; scroll-behavior:smooth; }

/* Expanded items */
.expanded-inner .expanded-item { height:380px; border-radius:10px; overflow:hidden; background:#000; box-shadow: 0 10px 40px rgba(0,0,0,0.6); transition: transform 400ms ease; }
.expanded-inner .expanded-item img { width:100%; height:100%; object-fit:cover; display:block; }

/* Loader text */
.expanded-inner .loader { color:#333; font-size:16px; text-align:center; padding:28px 0; background:transparent; }

/* Close button */
.close-expanded { position:absolute; right:14px; top:10px; background:rgba(0,0,0,0.45); color:#fff; border:0; padding:8px 12px; border-radius:8px; cursor:pointer; z-index:60; transform:translateY(-6px); }

/* Responsive */
@media (max-width:980px) {
  .profile-wrap { bottom: -56px; width:120px; height:120px; }
  .card { width:300px; height:200px; }
  .carousel { --carousel-height:360px; }
  .expanded-panel.open { height:380px; }
  .expanded-inner .expanded-item { height:300px; }
}
@media (max-width:520px) {
  .hero { min-height:36vh; padding:14px; }
  .profile-wrap { bottom: -48px; width:96px; height:96px; }
  .card { width:240px; height:160px; }
  .expanded-panel.open { height:320px; }
  .expanded-inner .expanded-item { height:260px; }
}
